### 270. Helm2 vs Helm3
**Tiller**
 - 쿠버네티스 클러스터에 헬름을 설치하면, 헬름 관련 작업을 위해 `helm cli`가 설치된다.
 - Helm v2
	 - v2가 등장했을 때는 쿠버네티스 내 RBAC, CRD등의 기능이 부족했다.
	 - helm v2가 작업을 수행하기 위해서, 클러스터 내에 Tiller라는 추가 구성요소를 설치해야 했다.
	 - helm cli는 Tiller로부터 요청을 받고, Tiller는 쿠버네티스와 상호작용 하여 요청한 동작이 수행될 수 있게 했다.
	- Tiller는 보안적으로도 취약했다. Tiller는 God 모드에서 실행됐다. 따라서, 원하는 모든 것을 할 수 있었다. 
- Helm v3
	- RBAC, CRD 등 쿠버네티스의 기능이 보완됐고, Tiller는 v3부터 삭제됐다.

**3-way strategic Merge Patch**
- helm v2
	- 헬름은 헬름 명령으로 중요한 변경(Install, Update, Rollback 등)이 수행될 때마다 `Revision`을 매긴다.
	- 헬름은 롤백 시, 이전 차트와 함께 `revision`을 확인하고 수행한다.
		- 여기에는 한계가 존재한다.
		- 예를 들어, 애플리케이션의 이미지를 변경할 시 `helm update`가 아닌 `kubectl set image`로 변경하면 revision이 안매겨지기 때문에, 롤백을 수행할 수 없다.
- helm v3
	- v2의 롤백 한계점을 보완한다.
	- 롤백 수행 시, 이전 차트, 현재 차트, 현재 실제 클러스터 상태를 확인한다. 이전 revision에 비해 변경사항이 있을 경우 롤백을 수행한다.