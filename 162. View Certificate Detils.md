### 162. View Certificate Detils
- 쿠버네티스 클러스터가 무엇을 통해서 구축됐는지 확인해야 한다. 이후, 인증서 정보를 확인할 수 있는 위치를 식별
	- 매뉴얼 구성(Hard Way)
		- `cat /etc/systemd/system/kube-apiserver.service`
	- `kubeadm`
		- `cat /etc/kubernetes/manifests/kube-apiserver.yaml`

- 인증서 확인 후, `openssl`을 통해 인증서를 디코딩하고 세부 사항 확인
	- `Issuer` : CA
	- `Not After` : 유효일자
	- `Subject` : CN
	- `X509v3 Subeject` : DNS, IP
- 인증서가 올바른 발행인으로부터 발행되었고, 유효기간이 남아있는지를 확인하는 것이 가장 중요하다.
```bash
openssl x509 -in /etc/kubernetes/pki/apiserver.crt -text -noout
---
…
    Issuer: CN=kubernetes
    …
      Not After: Feb 11 05:39:20 2020 GMT 2020 GMT
    …
    Subject: CN=kube-apiserver
…
      X509v3 Subject ALternative Name:
        DNS:master, DNS:kubernetes, DNS:kubernetes.default, DNS:kuberentes.default.svc, DNS:kubernetes.default.svc.clster.local, IP Address:10.96.0.1, IP Address:172.17.0.27
```

오류가 발생하면 로그를 확인해야만 한다.
- 매뉴얼 클러스터 구성 : Hardway
	- 시스템 로그를 확인해야 한다.
```bash
journalctl -u etcd.service -l
```
- `kubeadm`
	- 다양한 구성요소들이 파드 형태로 배포된다.
```bash
kubectl logs etcd-master
```

- `kube-apiserver, etcd` 등 주요 구성요소들에게 장애가 발생할 경우, `docker` 등 컨테이너 수준까지 내려와서 로그를 확인해야 한다.
```bash
docker ps -a    # 장애 발생 컨테이너 ID 확인

# 로그 확인
docker logs <CONTAINER_ID>
```